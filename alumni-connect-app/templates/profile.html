{% extends "base.html" %}

{% block title %}My Profile - AlumniConnect{% endblock %}

{% block content %}
<div class="card">
    <h2>Update Profile</h2>
    <p>Welcome, {{ user.name }}. Keep your details current to stay connected.</p>
    <form id="profileForm" method="POST" action="{{ url_for('profile') }}">
      <label for="fullName">Full Name</label>
      <input type="text" id="fullName" name="fullName" value="{{ user.name }}" required />
      
      <label for="email">Email Address (cannot be changed)</label>
      <input type="email" id="email" name="email" value="{{ session.email }}" readonly />
      
      <label for="gradYear">Graduation Year</label>
      <select id="gradYear" name="gradYear">
        <!-- Logic to select the current user's year -->
        {% set years = [2025, 2024, 2023, 2022, 2021, 2020] %}
        <option>Select Graduation Year</option>
        {% for year in years %}
            <option value="{{ year }}" {% if user.grad_year|string == year|string %}selected{% endif %}>{{ year }}</option>
        {% endfor %}
      </select>
      
      <button type="submit" class="btn-primary" style="width: auto;">Save Changes</button>
    </form>
</div>
{% endblock %}
